webpackJsonp([35],{Nn5S:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r=t("0xDb"),n={data:function(){return{dataForm:{account:"",bankName:"",startDate:"",endDate:"",phone:"",userName:"",trackingNumber:""},dataList:[],pageIndex:1,pageSize:20,totalPage:0,dataListLoading:!1,excelUrl:"",dateTime:[]}},activated:function(){this.getDataList()},methods:{setDateTime:function(e){e?(this.dataForm.startDate=Object(r.b)(e[0]),this.dataForm.endDate=Object(r.b)(e[1])):(this.dataForm.startDate="",this.dataForm.endDate="")},getDataList:function(e){var a=this;this.dataListLoading=!0,this.$http({url:this.$http.adornUrl("/creditCardApply/getList"),method:"post",params:this.$http.adornParams({page:"1"==e?"1":this.pageIndex,limit:this.pageSize,account:this.dataForm.account,bankName:this.dataForm.bankName,startDate:this.dataForm.startDate,endDate:this.dataForm.endDate,phone:this.dataForm.phone,userName:this.dataForm.userName,trackingNumber:this.dataForm.trackingNumber})}).then(function(e){var t=e.data;t&&0===t.code?(a.dataList=t.page.list,a.totalPage=t.page.totalNum):(a.dataList=[],a.totalPage=0),a.dataListLoading=!1})},sizeChangeHandle:function(e){this.pageSize=e,this.pageIndex=1,this.getDataList()},currentChangeHandle:function(e){this.pageIndex=e,this.getDataList()},exportExcelHandle:function(){var e=this,a=this.$cookie.get("token"),t=this.$http.adornUrl("/creditCardApply/exportData");this.excelUrl=t+"?account="+this.dataForm.account+"&bankName="+this.dataForm.bankName+"&startDate="+this.dataForm.startDate+"&endDate="+this.dataForm.endDate+"&phone="+this.dataForm.phone+"&userName="+this.dataForm.userName+"&trackingNumber="+this.dataForm.trackingNumber+"&token="+a,this.$nextTick(function(){e.$refs.excelBtn.click()})}}},l={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"mod-user"},[t("el-form",{staticStyle:{"margin-bottom":"15px"},attrs:{inline:!0,model:e.dataForm},nativeOn:{keyup:function(a){if(!("button"in a)&&e._k(a.keyCode,"enter",13,a.key))return null;e.getDataList("1")}}},[t("el-form-item",{attrs:{label:"财喵账号"}},[t("el-input",{attrs:{placeholder:"财喵账号",clearable:""},model:{value:e.dataForm.account,callback:function(a){e.$set(e.dataForm,"account",a)},expression:"dataForm.account"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"银行名称"}},[t("el-input",{attrs:{placeholder:"银行名称",clearable:""},model:{value:e.dataForm.bankName,callback:function(a){e.$set(e.dataForm,"bankName",a)},expression:"dataForm.bankName"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"申卡日期"}},[t("el-date-picker",{attrs:{type:"daterange","range-separator":"~","start-placeholder":"开始时间","end-placeholder":"结束时间"},on:{change:e.setDateTime},model:{value:e.dateTime,callback:function(a){e.dateTime=a},expression:"dateTime"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"电话号码"}},[t("el-input",{attrs:{placeholder:"电话号码",clearable:""},model:{value:e.dataForm.phone,callback:function(a){e.$set(e.dataForm,"phone",a)},expression:"dataForm.phone"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"姓名"}},[t("el-input",{attrs:{placeholder:"姓名",clearable:""},model:{value:e.dataForm.userName,callback:function(a){e.$set(e.dataForm,"userName",a)},expression:"dataForm.userName"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"快递单号"}},[t("el-input",{attrs:{placeholder:"快递单号",clearable:""},model:{value:e.dataForm.trackingNumber,callback:function(a){e.$set(e.dataForm,"trackingNumber",a)},expression:"dataForm.trackingNumber"}})],1),e._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:function(a){e.getDataList("1")}}},[e._v("查询")]),e._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:function(a){e.exportExcelHandle()}}},[e._v("导出excel")]),e._v(" "),t("a",{ref:"excelBtn",staticClass:"hidden",attrs:{href:e.excelUrl,download:"申卡提单记录.xlsx"}})],1),e._v(" "),t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.dataListLoading,expression:"dataListLoading"}],staticStyle:{width:"100%"},attrs:{data:e.dataList,border:""}},[t("el-table-column",{attrs:{type:"index",label:"序号","header-align":"center",align:"center",width:"50"}}),e._v(" "),t("el-table-column",{attrs:{prop:"account","header-align":"center",align:"center",label:"财喵账号"}}),e._v(" "),t("el-table-column",{attrs:{prop:"bankName","header-align":"center",align:"center",label:"银行名称"}}),e._v(" "),t("el-table-column",{attrs:{prop:"applyDate","header-align":"center",align:"center",label:"申卡日期"}}),e._v(" "),t("el-table-column",{attrs:{prop:"phone","header-align":"center",align:"center",label:"电话号码"}}),e._v(" "),t("el-table-column",{attrs:{prop:"userName","header-align":"center",align:"center",label:"姓名"}}),e._v(" "),t("el-table-column",{attrs:{prop:"trackingNumber","header-align":"center",align:"center",label:"快递单号"}})],1),e._v(" "),t("el-pagination",{attrs:{"current-page":e.pageIndex,"page-sizes":[10,20,50,100],"page-size":e.pageSize,total:e.totalPage,layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":e.sizeChangeHandle,"current-change":e.currentChangeHandle}})],1)},staticRenderFns:[]},i=t("VU/8")(n,l,!1,null,null,null);a.default=i.exports}});