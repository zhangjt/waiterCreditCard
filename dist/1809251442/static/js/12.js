webpackJsonp([12],{"c+Ll":function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r=e("pltE"),o={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"addOrUpdate"},[e("div",{staticClass:"title"},[t._v(t._s(t.title))]),t._v(" "),e("el-form",{ref:"dataForm",attrs:{model:t.dataForm,rules:t.dataRule,"label-width":"180px"}},[e("el-form-item",{attrs:{label:"排名权重",prop:"weight"}},[e("el-input",{attrs:{placeholder:"排名权重"},model:{value:t.dataForm.weight,callback:function(a){t.$set(t.dataForm,"weight",a)},expression:"dataForm.weight"}})],1),t._v(" "),e("el-form-item",{attrs:{label:"银行名称",prop:"name"}},[e("el-input",{attrs:{placeholder:"银行名称"},model:{value:t.dataForm.name,callback:function(a){t.$set(t.dataForm,"name",a)},expression:"dataForm.name"}})],1),t._v(" "),e("el-form-item",{ref:"icon",attrs:{label:"银行icon",prop:"icon"}},[e("img-upload",{attrs:{"orgin-img":t.dataForm.icon,"img-size":t.imgSize,width:t.imgWidth,height:t.imgHeight},on:{choose:t.chooseImg}})],1),t._v(" "),e("el-form-item",{attrs:{label:"宣传语",prop:"propaganda"}},[e("el-input",{attrs:{placeholder:"宣传语",maxlength:"20"},model:{value:t.dataForm.propaganda,callback:function(a){t.$set(t.dataForm,"propaganda",a)},expression:"dataForm.propaganda"}})],1),t._v(" "),e("el-form-item",{attrs:{label:"返利金额(元)",prop:"rebate"}},[e("el-input",{attrs:{placeholder:"返利金额(元)"},model:{value:t.dataForm.rebate,callback:function(a){t.$set(t.dataForm,"rebate",a)},expression:"dataForm.rebate"}})],1),t._v(" "),e("el-form-item",{attrs:{label:"返利标识",prop:"rebateDescription"}},[e("el-input",{attrs:{placeholder:"返利标识",maxlength:"5"},model:{value:t.dataForm.rebateDescription,callback:function(a){t.$set(t.dataForm,"rebateDescription",a)},expression:"dataForm.rebateDescription"}})],1),t._v(" "),e("el-form-item",{attrs:{label:"银行背景颜色",size:"mini",prop:"color"}},[e("el-radio-group",{model:{value:t.dataForm.color,callback:function(a){t.$set(t.dataForm,"color",a)},expression:"dataForm.color"}},[e("el-radio",{attrs:{label:1}},[e("span",{staticClass:"myspan"})]),t._v(" "),e("el-radio",{attrs:{label:2}},[e("span",{staticClass:"myspan",staticStyle:{background:"#FF3F46"}})]),t._v(" "),e("el-radio",{attrs:{label:3}},[e("span",{staticClass:"myspan",staticStyle:{background:"#43C6CD"}})]),t._v(" "),e("el-radio",{attrs:{label:4}},[e("span",{staticClass:"myspan",staticStyle:{background:"#FF821A"}})]),t._v(" "),e("el-radio",{attrs:{label:5}},[e("span",{staticClass:"myspan",staticStyle:{background:"#6E46DD"}})])],1)],1),t._v(" "),e("el-form-item",{attrs:{label:"标签1",prop:"tag1"}},[e("el-input",{attrs:{placeholder:"标签1",maxlength:"8"},model:{value:t.dataForm.tag1,callback:function(a){t.$set(t.dataForm,"tag1",a)},expression:"dataForm.tag1"}})],1),t._v(" "),e("el-form-item",{attrs:{label:"标签2",prop:"tag2"}},[e("el-input",{attrs:{placeholder:"标签2",maxlength:"8"},model:{value:t.dataForm.tag2,callback:function(a){t.$set(t.dataForm,"tag2",a)},expression:"dataForm.tag2"}})],1),t._v(" "),e("el-form-item",{attrs:{label:"标签3",prop:"tag3"}},[e("el-input",{attrs:{placeholder:"标签3",maxlength:"8"},model:{value:t.dataForm.tag3,callback:function(a){t.$set(t.dataForm,"tag3",a)},expression:"dataForm.tag3"}})],1),t._v(" "),e("el-form-item",{attrs:{label:"类目名称",prop:"categoryName1"}},[e("el-input",{attrs:{placeholder:"类目名称"},model:{value:t.dataForm.categoryName1,callback:function(a){t.$set(t.dataForm,"categoryName1",a)},expression:"dataForm.categoryName1"}})],1),t._v(" "),e("el-form-item",{attrs:{label:"",prop:"categoryContent1"}},[e("editor",{attrs:{editorCon:t.editorCon1},on:{editor:t.getEditor1}})],1),t._v(" "),e("el-form-item",{attrs:{label:"类目名称",prop:"categoryName2"}},[e("el-input",{attrs:{placeholder:"类目名称"},model:{value:t.dataForm.categoryName2,callback:function(a){t.$set(t.dataForm,"categoryName2",a)},expression:"dataForm.categoryName2"}})],1),t._v(" "),e("el-form-item",{attrs:{label:"",prop:"categoryContent2"}},[e("editor",{attrs:{editorCon:t.editorCon2},on:{editor:t.getEditor2}})],1),t._v(" "),e("el-form-item",{attrs:{label:"URL",prop:"url"}},[e("el-input",{attrs:{placeholder:"URL"},model:{value:t.dataForm.url,callback:function(a){t.$set(t.dataForm,"url",a)},expression:"dataForm.url"}})],1),t._v(" "),e("el-form-item",{attrs:{label:"状态",size:"mini",prop:"status"}},[e("el-radio-group",{model:{value:t.dataForm.status,callback:function(a){t.$set(t.dataForm,"status",a)},expression:"dataForm.status"}},[e("el-radio",{attrs:{label:1}},[t._v("展示")]),t._v(" "),e("el-radio",{attrs:{label:2}},[t._v("隐藏")])],1)],1),t._v(" "),e("el-form-item",{attrs:{label:"跳转类型",size:"mini",prop:"inners"}},[e("el-radio-group",{model:{value:t.dataForm.inners,callback:function(a){t.$set(t.dataForm,"inners",a)},expression:"dataForm.inners"}},[e("el-radio",{attrs:{label:1}},[t._v("内链")]),t._v(" "),e("el-radio",{attrs:{label:2}},[t._v("外链")])],1)],1)],1),t._v(" "),e("div",{staticStyle:{"margin-left":"20%"}},[e("el-button",{attrs:{type:"primary"},on:{click:function(a){t.dataFormSubmit()}}},[t._v("确定")]),t._v(" "),e("el-button",{on:{click:function(a){t.returnList()}}},[t._v("返回")])],1)],1)},staticRenderFns:[]};var i=function(t){e("qnQz")},l=e("VU/8")(r.a,o,!1,i,null,null);a.default=l.exports},pltE:function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__=__webpack_require__("mvHQ"),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__),__WEBPACK_IMPORTED_MODULE_1__components_Editor__=__webpack_require__("iTKD"),__WEBPACK_IMPORTED_MODULE_2__components_img_upload__=__webpack_require__("csgp"),__WEBPACK_IMPORTED_MODULE_3__utils_validate__=__webpack_require__("E4LH");__webpack_exports__.a={data:function(){return{title:null,dataForm:{id:0,weight:"",name:"",icon:"",propaganda:"",rebate:"",rebateDescription:"",color:1,tag1:"",tag2:"",tag3:"",categoryName1:"",categoryContent1:"",categoryName2:"",categoryContent2:"",url:"",status:1,inners:1},dataRule:{weight:[{required:!0,message:"排名权重不能为空",trigger:"blur"},{validator:function(t,a,e){Object(__WEBPACK_IMPORTED_MODULE_3__utils_validate__.c)(a)?e():e(new Error("您输入的排名权重不是正整数"))},trigger:"blur"}],name:[{required:!0,message:"银行名称不能为空",trigger:"blur"}],icon:[{required:!0,message:"银行icon不能为空",trigger:"blur"}],propaganda:[{required:!0,message:"宣传语不能为空",trigger:"blur"}],color:[{required:!0,message:"银行背景颜色不能为空",trigger:"blur"}],url:[{required:!0,message:"URL不能为空",trigger:"blur"}]},editorCon1:"",editorCon2:"",uploadUrl:this.$http.adornUrl("file/upload"),imgWidth:88,imgHeight:88,imgSize:200}},components:{ImgUpload:__WEBPACK_IMPORTED_MODULE_2__components_img_upload__.a,Editor:__WEBPACK_IMPORTED_MODULE_1__components_Editor__.a},methods:{chooseImg:function(t){this.dataForm.icon=t,this.$refs.icon.clearValidate(["icon"])},init:function(t,a){this.dataForm.id=t||0,this.title=this.dataForm.id?"编辑":"新增",this.dataForm.id&&(this.dataForm=a,this.dataForm.rebate=a.rebate/100,this.dataForm.color=parseInt(a.color),this.editorCon1=this.dataForm.categoryContent1,this.editorCon2=this.dataForm.categoryContent2)},returnList:function(){this.$emit("refreshDataList")},getEditor1:function(t){this.dataForm.categoryContent1=t},getEditor2:function(t){this.dataForm.categoryContent2=t},dataFormSubmit:function dataFormSubmit(){var _this=this;this.$refs.dataForm.validate(function(valid){if(valid){if(_this.dataForm.rebate<0)return void _this.$alert("您输入的返利金额不能小于0","提示",{confirmButtonText:"确定"});var params=eval("("+(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(_this.dataForm)+__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()({rebate:Math.round(100*_this.dataForm.rebate)})).replace(/}{/,",")+")");_this.$http({headers:{"Content-Type":"application/json; charset=utf-8"},url:_this.$http.adornUrl("/bank/"+(_this.dataForm.id?"update":"save")),method:"post",data:_this.$http.adornData(params,!1)}).then(function(t){var a=t.data;a&&0===a.code?_this.$message({message:"操作成功",type:"success",duration:1500,onClose:function(){_this.$emit("refreshDataList")}}):_this.$message.error(a.msg)})}})}}}},qnQz:function(t,a,e){var r=e("yhmQ");"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);e("rjj0")("201182a8",r,!0)},yhmQ:function(t,a,e){(t.exports=e("FZ+f")(!1)).push([t.i,"\n.addOrUpdate .title {\n  font-size: 16px;\n}\n.addOrUpdate .el-form-item__content {\n  width: 50%;\n}\n.addOrUpdate .myspan {\n  background: #2371FF;\n  width: 20px;\n  height: 20px;\n  display: inline-block;\n  vertical-align: middle;\n}\n",""])}});