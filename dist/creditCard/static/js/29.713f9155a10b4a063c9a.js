webpackJsonp([29],{"1QSO":function(t,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=a("Au9i"),o=a("7+uW"),i=a("M4fF"),c=a.n(i);o.default.component(e.Field.name,e.Field);var l={components:{},props:{},data:function(){return{name:"",id:"",card:"",bank:"",phone:"",bankInfo:{id:0,bankName:"",bankCode:"",bankIcon:"",pinYin:"",initials:""}}},watch:{card:c.a.throttle(function(){var t=this;if(this.card&&this.card.length>6){var n={cardNo:this.card};this.$http.queryBankName(n).then(function(n){n&&n.bankInfo&&(t.bankInfo=n.bankInfo,t.bankInfo.bankName&&(t.bank=t.bankInfo.bankName))}).catch(function(t){console.log(t)})}},2500)},computed:{},methods:{actionAdd:function(){var t=this;if(this.valideInput()){var n={userName:this.name,idNumber:this.id,account:this.card,bankName:this.bank,gateId:this.bankInfo.bankCode,phone:this.phone};this.$http.bindBankCard(n).then(function(n){n&&n.cardInfo&&(t.$toast("绑定成功"),t.$router.go(-1))}).catch(function(t){console.log(t)})}},valideInput:function(){return this.name?this.id?this.id.length<18?(this.$toast("请输入有效身份证"),!1):this.card?this.bank&&this.bankInfo.bankCode?!(!this.phone||this.length<11)||(this.$toast("请输入有效手机号码"),!1):(this.$toast("银行不能为空"),!1):(this.$toast("卡号不能为空"),!1):(this.$toast("身份证号不能为空"),!1):(this.$toast("姓名不能为空"),!1)},queryBank:function(){var t={cardNo:this.card};this.$http.queryBankName(t).then(function(t){t&&console.log(t)}).catch(function(t){console.log(t)})}},created:function(){},mounted:function(){}},s=a("XyMi");var d=function(t){a("x0eh")},r=Object(s.a)(l,function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("div",{staticClass:"add-card-container"},[a("span",[t._v("财喵万卡提现金额将发放到绑定的银行卡内，请先绑定银行卡")]),t._v(" "),a("mt-field",{attrs:{label:"姓名",placeholder:"请输入姓名"},model:{value:t.name,callback:function(n){t.name=n},expression:"name"}}),t._v(" "),a("mt-field",{attrs:{label:"身份证号",placeholder:"请输入身份证号",attr:{maxlength:18}},model:{value:t.id,callback:function(n){t.id=n},expression:"id"}}),t._v(" "),a("mt-field",{attrs:{label:"银行卡号",placeholder:"请输入银行卡号",attr:{maxlength:19}},model:{value:t.card,callback:function(n){t.card=n},expression:"card"}}),t._v(" "),a("mt-field",{attrs:{label:"银行",placeholder:"根据卡号自动识别支持银行",readonly:!0},model:{value:t.bank,callback:function(n){t.bank=n},expression:"bank"}}),t._v(" "),a("mt-field",{attrs:{label:"预留手机号",placeholder:"请输入银行预留手机号",attr:{maxlength:11}},model:{value:t.phone,callback:function(n){t.phone=n},expression:"phone"}}),t._v(" "),a("div",{staticClass:"confirm-btn",on:{click:t.actionAdd}},[t._v("确定")])],1)},[],!1,d,"data-v-3f612e26",null);n.default=r.exports},x0eh:function(t,n){}});
//# sourceMappingURL=29.713f9155a10b4a063c9a.js.map