{"version":3,"sources":["webpack:///src/components/message/MsgListItem.vue","webpack:///./src/components/message/MsgListItem.vue","webpack:///./src/components/message/MsgListItem.vue?4927","webpack:///src/pages/message/MineMsgList.vue","webpack:///./src/pages/message/MineMsgList.vue","webpack:///./src/pages/message/MineMsgList.vue?43ef"],"names":["MsgListItem","data","created","components","computed","props","msgItem","type","Object","isShowDate","Boolean","methods","goToMsgDetail","this","$router","push","path","query","__vue_styles__","context","__webpack_require__","message_MsgListItem","component_normalizer","_vm","_h","$createElement","_c","_self","staticClass","on","click","directives","name","rawName","value","expression","_v","_s","addtime","substring","image","attrs","src","style","margin-top","title","intro","staticStyle","font-size","color","vue_esm","use","vue_scroller_min_default","a","MineMsgList","Empty","titleName","msgType","page","hasNoData","msgList","$route","$http","msgAllRead","reback","refresh","done","getMsgList","infinite","isRefresh","_this","params","limit","then","res","count","concat","list","length","catch","err","getLastDate","i","index","lastMsgItem","MineMsgList___vue_styles__","MineMsgList_Component","slot","icon","on-refresh","on-infinite","_e","_l","item","key","__webpack_exports__"],"mappings":"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","file":"static/js/18.baae894dd3972fa50746.js","sourcesContent":["<!--  -->\r\n<template>\r\n  <div class=\"msg-list-item-container\" v-on:click=\"goToMsgDetail\">\r\n    <div class=\"date-style\" v-show=\"!isShowDate\">{{msgItem.addtime.substring(0, 10)}}</div>\r\n\r\n    <div>\r\n      <div class=\"advert-container\" v-show=\"Boolean(msgItem.image)\">\r\n\r\n        <img class=\"advert-img\" :src=\"msgItem.image\" />\r\n\r\n      </div>\r\n\r\n      <div class=\"intro-container\" :style=\"{'margin-top':Boolean(msgItem.image)?'0px':'10px'}\">\r\n\r\n        <div class=\"title-class\">{{msgItem.title}}</div>\r\n        <div class=\"intro-class\">{{msgItem.intro}}</div>\r\n        <div class=\"cut-off-img\"></div>\r\n        <div style=\"font-size: 12px;color: #909090;margin-top:8px\">查看详情</div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {};\r\n  },\r\n  created() {},\r\n  components: {},\r\n\r\n  computed: {},\r\n\r\n  props: {\r\n    msgItem: {\r\n      type: Object\r\n    },\r\n    isShowDate: {\r\n      type: Boolean\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    goToMsgDetail() {\r\n      this.$router.push({\r\n        path: \"/msgDetail\",\r\n        query: { msgItem: this.msgItem }\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style lang='postcss' scoped>\r\n.msg-list-item-container {\r\n  background-color: #f6f7f8;\r\n  & .date-style {\r\n    width: 104px;\r\n    height: 24px;\r\n    line-height: 24px;\r\n    background: #d8d8d8;\r\n    color: #ffffff;\r\n    font-size: 12px;\r\n    text-align: center;\r\n    margin: 14px auto 5px;\r\n    border-radius: 12px;\r\n  }\r\n\r\n  & .advert-container {\r\n    position: relative;\r\n    margin-top: 10px;\r\n    & .advert-img {\r\n      width: 345px;\r\n      height: 86px;\r\n      margin-left: 15px;\r\n      vertical-align: bottom;\r\n    }\r\n  }\r\n\r\n  & .intro-container {\r\n    padding-left: 14px;\r\n    padding-right: 14px;\r\n    padding-top: 10px;\r\n    padding-bottom: 8px;\r\n    background: white;\r\n    margin-left: 15px;\r\n    margin-right: 15px;\r\n    position: relative;\r\n    min-height: 40px;\r\n    & .title-class {\r\n      font-size: 14px;\r\n      color: #1c2042;\r\n      width: 100%;\r\n      word-wrap: break-word;\r\n    }\r\n\r\n    & .intro-class {\r\n      margin-top: 5px;\r\n      font-size: 12px;\r\n      color: #909090;\r\n    }\r\n\r\n    & .cut-off-img {\r\n      margin-top: 10px;\r\n      height: 1px;\r\n      background: #ececec;\r\n    }\r\n  }\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/message/MsgListItem.vue","function injectStyle (context) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"optionsId\\\":\\\"0\\\",\\\"vue\\\":true,\\\"id\\\":\\\"data-v-08edae05\\\",\\\"scoped\\\":true,\\\"sourceMap\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./MsgListItem.vue\")\n}\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./MsgListItem.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./MsgListItem.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-08edae05\\\",\\\"hasScoped\\\":true,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./MsgListItem.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-08edae05\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/message/MsgListItem.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"msg-list-item-container\",on:{\"click\":_vm.goToMsgDetail}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isShowDate),expression:\"!isShowDate\"}],staticClass:\"date-style\"},[_vm._v(_vm._s(_vm.msgItem.addtime.substring(0, 10)))]),_vm._v(\" \"),_c('div',[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(Boolean(_vm.msgItem.image)),expression:\"Boolean(msgItem.image)\"}],staticClass:\"advert-container\"},[_c('img',{staticClass:\"advert-img\",attrs:{\"src\":_vm.msgItem.image}})]),_vm._v(\" \"),_c('div',{staticClass:\"intro-container\",style:({'margin-top':Boolean(_vm.msgItem.image)?'0px':'10px'})},[_c('div',{staticClass:\"title-class\"},[_vm._v(_vm._s(_vm.msgItem.title))]),_vm._v(\" \"),_c('div',{staticClass:\"intro-class\"},[_vm._v(_vm._s(_vm.msgItem.intro))]),_vm._v(\" \"),_c('div',{staticClass:\"cut-off-img\"}),_vm._v(\" \"),_c('div',{staticStyle:{\"font-size\":\"12px\",\"color\":\"#909090\",\"margin-top\":\"8px\"}},[_vm._v(\"查看详情\")])])])])}\nvar staticRenderFns = []\nexport { render, staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-08edae05\",\"hasScoped\":true,\"optionsId\":\"0\",\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/message/MsgListItem.vue\n// module id = null\n// module chunks = ","<!--  -->\r\n<template>\r\n  <div class=\"mine-msg-container\">\r\n    <mt-header :title=\"titleName\" class=\"boder-header\">\r\n      <mt-button icon=\"back\" slot=\"left\" @click=\"reback\"></mt-button>\r\n    </mt-header>\r\n\r\n    <scroller class=\"scroller-class\" :on-refresh=\"refresh\" :on-infinite=\"infinite\">\r\n      <div class=\"all-msg-container\" v-if=\"!hasNoData\">\r\n        <div v-for=\"(item,index) in msgList\" :key=\"index\">\r\n          <msg-list-item :msgItem=\"item\" :isShowDate=\"getLastDate(index)\"></msg-list-item>\r\n        </div>\r\n      </div>\r\n\r\n      <empty class=\"empty\" v-if=\"hasNoData\"></empty>\r\n    </scroller>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Vue from \"vue\";\r\nimport VueScroller from \"vue-scroller\";\r\nimport Empty from \"@/components/Empty\";\r\nimport http from \"http\";\r\nVue.use(VueScroller);\r\nimport MsgListItem from \"@/components/message/MsgListItem\";\r\nexport default {\r\n  components: { MsgListItem, Empty },\r\n  data() {\r\n    return {\r\n      titleName: \"\",\r\n      msgType: 0,\r\n      page: 1,\r\n      hasNoData: false,\r\n      msgList: []\r\n    };\r\n  },\r\n\r\n  created() {\r\n    this.titleName = this.$route.query.titleName;\r\n    this.msgType = this.$route.query.msgType;\r\n    this.$http.msgAllRead(this.msgType);\r\n  },\r\n\r\n  methods: {\r\n    reback() {\r\n      this.$router.push({ path: \"/mine/msgCenter\" });\r\n    },\r\n    refresh(done) {\r\n      this.getMsgList(true, done);\r\n    },\r\n    infinite(done) {\r\n      //done(true)的时候会停止加载更多\r\n      this.getMsgList(false, done);\r\n    },\r\n    getMsgList(isRefresh, done) {\r\n      let params = {\r\n        type: this.msgType,\r\n        limit: 30,\r\n        page: this.page\r\n      };\r\n      this.$http\r\n        .getMsgList(params)\r\n        .then(res => {\r\n          if (!isRefresh) {\r\n            this.page += 1;\r\n          } else {\r\n            done(false);\r\n          }\r\n          if (res) {\r\n            this.hasNoData = res.count == 0;\r\n            if (this.hasNoData) {\r\n              //没有数据的情况\r\n              done(true);\r\n              this.msgList = [];\r\n              return;\r\n            }\r\n            this.msgList = this.msgList.concat(res.list);\r\n\r\n            if (!isRefresh && this.msgList.length == res.count) {\r\n              done(true);\r\n            }\r\n          }\r\n        })\r\n        .catch(err => {\r\n          //do nothing\r\n        });\r\n    },\r\n\r\n    getLastDate(i) {\r\n      var index = i - 1;\r\n      if (index < 0) {\r\n        return false;\r\n      } else {\r\n        var lastMsgItem = this.msgList[index];\r\n        var msgItem = this.msgList[i];\r\n        return (\r\n          msgItem.addtime.substring(0, 10) ==\r\n          lastMsgItem.addtime.substring(0, 10)\r\n        );\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style lang='postcss' scoped>\r\n.mine-msg-container {\r\n  height: auto;\r\n\r\n  & .scroller-class {\r\n    position: absolute;\r\n    top: 44px;\r\n    background: #f6f7f8;\r\n\r\n    & .all-msg-container {\r\n      margin-top: 10px;\r\n    }\r\n  }\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/message/MineMsgList.vue","function injectStyle (context) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"optionsId\\\":\\\"0\\\",\\\"vue\\\":true,\\\"id\\\":\\\"data-v-a72ef0ae\\\",\\\"scoped\\\":true,\\\"sourceMap\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./MineMsgList.vue\")\n}\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./MineMsgList.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./MineMsgList.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-a72ef0ae\\\",\\\"hasScoped\\\":true,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./MineMsgList.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-a72ef0ae\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/message/MineMsgList.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"mine-msg-container\"},[_c('mt-header',{staticClass:\"boder-header\",attrs:{\"title\":_vm.titleName}},[_c('mt-button',{attrs:{\"slot\":\"left\",\"icon\":\"back\"},on:{\"click\":_vm.reback},slot:\"left\"})],1),_vm._v(\" \"),_c('scroller',{staticClass:\"scroller-class\",attrs:{\"on-refresh\":_vm.refresh,\"on-infinite\":_vm.infinite}},[(!_vm.hasNoData)?_c('div',{staticClass:\"all-msg-container\"},_vm._l((_vm.msgList),function(item,index){return _c('div',{key:index},[_c('msg-list-item',{attrs:{\"msgItem\":item,\"isShowDate\":_vm.getLastDate(index)}})],1)})):_vm._e(),_vm._v(\" \"),(_vm.hasNoData)?_c('empty',{staticClass:\"empty\"}):_vm._e()],1)],1)}\nvar staticRenderFns = []\nexport { render, staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-a72ef0ae\",\"hasScoped\":true,\"optionsId\":\"0\",\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/message/MineMsgList.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}