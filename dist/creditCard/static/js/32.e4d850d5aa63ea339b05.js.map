{"version":3,"sources":["webpack:///src/pages/login/LoginPwd.vue","webpack:///./src/pages/login/LoginPwd.vue","webpack:///./src/pages/login/LoginPwd.vue?9ec6"],"names":["LoginPwd","name","data","title","passform","username","localStorage","getItem","password","computed","btnDisabled","get","this","methods","extends_default","Object","vuex_esm","toLogin","form","_this","$http","then","res","status","SETLOGINSTATE","loginState","getUserInfo","redirectUrl","$route","query","redirected","$router","push","path","go","statusMsg","$toast","checkForm","e","setItem","phone","valid","validatePhoneNumber","md5_default","type","channel","preventDefault","__vue_styles__","context","__webpack_require__","Component","component_normalizer","_vm","_h","$createElement","_c","_self","staticClass","attrs","action","on","submit","model","value","callback","$$v","expression","placeholder","$set","_v","disabled","to","__webpack_exports__"],"mappings":"8KA4BAA,GACAC,KAAA,QACAC,KAFA,WAGA,OACAC,MAAA,OACAC,UACAC,SAAAC,aAAAC,QAAA,YACAC,SAAA,MAIAC,UACAC,aACAC,IAAA,WACA,OAAAC,KAAAR,SAAAC,YAQAQ,QAAAC,OACAC,OAAAC,EAAA,EAAAD,EACA,gBAEAA,OAAAC,EAAA,EAAAD,EACA,mBAGAE,QAAA,SAAAC,GAAA,IAAAC,EAAAP,KACAA,KAAAQ,MAAAH,QAAAC,GAAAG,KAAA,SAAAC,GACA,GAAAA,KAAAC,OAAA,CACAJ,EAAAK,eAAAC,YAAA,IACAN,EAAAO,cACA,IAAAC,EAAAR,EAAAS,OAAAC,MAAAC,WACAH,EACAR,EAAAY,QAAAC,MAAAC,KAAAN,IAEAR,EAAAY,QAAAG,IAAA,QAEAZ,EAAAa,WACAhB,EAAAiB,OAAAd,EAAAa,cAIAE,UAAA,SAAAC,GACAhC,aAAAiC,QAAA,WAAA3B,KAAAR,SAAAC,UAAA,IACA,IAAAmC,EAAAC,EAAA,EAAAC,oBAAA9B,KAAAR,SAAAC,UACA,QAAAmC,EACA,GAAA5B,KAAAR,SAAAI,SAEA,CACA,IAAAU,GACAsB,MAAA5B,KAAAR,SAAAC,SACAG,SAAAmC,IAAA/B,KAAAR,SAAAI,UACAoC,KAAA,EACAC,QAAA,SAEAjC,KAAAK,QAAAC,QARAN,KAAAwB,OAAA,eAYAxB,KAAAwB,OAAAI,GAGAF,EAAAQ,iCCrFA,IAEAC,EAXA,SAAAC,GACAC,EAAA,SAgBAC,EAAAnC,OAAAoC,EAAA,EAAApC,CACAf,EClBA,WAA0B,IAAAoD,EAAAxC,KAAayC,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,UAAoBF,EAAA,QAAaE,YAAA,aAAAC,OAAgCC,OAAA,IAAYC,IAAKC,OAAAT,EAAAf,WAAuByB,OAAQC,MAAAX,EAAA,SAAAY,SAAA,SAAAC,GAA8Cb,EAAAhD,SAAA6D,GAAiBC,WAAA,cAAwBX,EAAA,YAAiBE,YAAA,QAAAC,OAA2BS,YAAA,UAAAvB,KAAA,OAAqCkB,OAAQC,MAAAX,EAAAhD,SAAA,SAAA4D,SAAA,SAAAC,GAAuDb,EAAAgB,KAAAhB,EAAAhD,SAAA,WAAA6D,IAAwCC,WAAA,uBAAiCd,EAAAiB,GAAA,KAAAd,EAAA,YAA6BE,YAAA,WAAAC,OAA8BS,YAAA,UAAAvB,KAAA,YAA0CkB,OAAQC,MAAAX,EAAAhD,SAAA,SAAA4D,SAAA,SAAAC,GAAuDb,EAAAgB,KAAAhB,EAAAhD,SAAA,WAAA6D,IAAwCC,WAAA,uBAAiCd,EAAAiB,GAAA,KAAAd,EAAA,OAAwBE,YAAA,eAAyBF,EAAA,OAAYE,YAAA,eAAyBF,EAAA,aAAkBE,YAAA,aAAAC,OAAgCY,SAAAlB,EAAA1C,eAA4B0C,EAAAiB,GAAA,kBAAAjB,EAAAiB,GAAA,KAAAd,EAAA,eAAyDE,YAAA,SAAAC,OAA4Ba,GAAA,0BAA6BnB,EAAAiB,GAAA,mBDS9gC,EAaAtB,EATA,kBAEA,MAYAyB,EAAA,QAAAtB,EAAA","file":"static/js/32.e4d850d5aa63ea339b05.js","sourcesContent":["<template>\r\n  <div class=\"login\">\r\n    <!-- <mt-header :title=\"title\" class=\"boder-header\">\r\n      <router-link to=\"/login\" slot=\"left\">\r\n        <mt-button icon=\"back\"></mt-button>\r\n      </router-link>\r\n    </mt-header> -->\r\n    <form class=\"login-form\" @submit=\"checkForm\" action=\"\" v-model=\"passform\">\r\n      <mt-field placeholder=\"请输入手机号码\" type=\"tel\" v-model=\"passform.username\" class=\"phone\"></mt-field>\r\n      <mt-field placeholder=\"请输入登录密码\" type=\"password\" v-model=\"passform.password\" class=\"password\"></mt-field>\r\n\r\n      <div class=\"btn-module\">\r\n        <div class=\"btn-margin\">\r\n          <mt-button class=\"common-btn\" :disabled=\"btnDisabled\">登录</mt-button>\r\n        </div>\r\n      </div>\r\n\r\n    </form>\r\n    <!--  -->\r\n    <router-link class=\"forget\" to=\"/user/forgetPassword\">忘记密码</router-link>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapActions, mapMutations } from 'vuex'\r\nimport md5 from 'md5'\r\nimport valid from '@/modules/valid'\r\n\r\nexport default {\r\n  name: 'login',\r\n  data () {\r\n    return {\r\n      title: '密码登录',\r\n      passform: {\r\n        username: localStorage.getItem('caiPhone'),\r\n        password: ''\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    btnDisabled: {\r\n      get: function () {\r\n        if (this.passform.username) {\r\n          return false\r\n        } else {\r\n          return true\r\n        }\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapActions([\r\n      'getUserInfo' // 将 `this.incrementBy(amount)` 映射为 `this.$store.dispatch('incrementBy', amount)`\r\n    ]),\r\n    ...mapMutations([\r\n      'SETLOGINSTATE'\r\n    ]),\r\n    // 向后台发出登录请求\r\n    toLogin: function (form) {\r\n      this.$http.toLogin(form).then((res) => {\r\n        if (res&& res.status) {\r\n          this.SETLOGINSTATE({loginState: true})\r\n          this.getUserInfo()\r\n          var redirectUrl = this.$route.query.redirected\r\n          if (redirectUrl) {\r\n            this.$router.push({path: redirectUrl})\r\n          } else {\r\n            this.$router.go(-1)\r\n          }\r\n        }else if(res.statusMsg){\r\n          this.$toast(res.statusMsg)\r\n        }\r\n      })\r\n    },\r\n    checkForm: function (e) {\r\n      localStorage.setItem('caiPhone', this.passform.username || '')\r\n      var phone = valid.validatePhoneNumber(this.passform.username)\r\n      if (phone === '') {\r\n        if (!this.passform.password) {\r\n          this.$toast('密码不能为空')\r\n        } else {\r\n          let form = {\r\n            phone: this.passform.username,\r\n            password: md5(this.passform.password),\r\n            type: 0,\r\n            channel: 'wapzc'\r\n          }\r\n          this.toLogin(form)\r\n          // console.log(form);\r\n        }\r\n      } else {\r\n        this.$toast(phone)\r\n      }\r\n\r\n      e.preventDefault()\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style lang=\"postcss\" scoped>\r\n.login{\r\n  text-align: center;\r\n}\r\n.forget{\r\n  margin-top: 165px;\r\n  display: inline-block;\r\n  color: #8D929C;\r\n  font-size: 14px;\r\n  text-decoration: none;\r\n}\r\n.btn-module{\r\n\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/login/LoginPwd.vue","function injectStyle (context) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"optionsId\\\":\\\"0\\\",\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0fbdf36a\\\",\\\"scoped\\\":true,\\\"sourceMap\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./LoginPwd.vue\")\n}\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./LoginPwd.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./LoginPwd.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0fbdf36a\\\",\\\"hasScoped\\\":true,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./LoginPwd.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-0fbdf36a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/login/LoginPwd.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login\"},[_c('form',{staticClass:\"login-form\",attrs:{\"action\":\"\"},on:{\"submit\":_vm.checkForm},model:{value:(_vm.passform),callback:function ($$v) {_vm.passform=$$v},expression:\"passform\"}},[_c('mt-field',{staticClass:\"phone\",attrs:{\"placeholder\":\"请输入手机号码\",\"type\":\"tel\"},model:{value:(_vm.passform.username),callback:function ($$v) {_vm.$set(_vm.passform, \"username\", $$v)},expression:\"passform.username\"}}),_vm._v(\" \"),_c('mt-field',{staticClass:\"password\",attrs:{\"placeholder\":\"请输入登录密码\",\"type\":\"password\"},model:{value:(_vm.passform.password),callback:function ($$v) {_vm.$set(_vm.passform, \"password\", $$v)},expression:\"passform.password\"}}),_vm._v(\" \"),_c('div',{staticClass:\"btn-module\"},[_c('div',{staticClass:\"btn-margin\"},[_c('mt-button',{staticClass:\"common-btn\",attrs:{\"disabled\":_vm.btnDisabled}},[_vm._v(\"登录\")])],1)])],1),_vm._v(\" \"),_c('router-link',{staticClass:\"forget\",attrs:{\"to\":\"/user/forgetPassword\"}},[_vm._v(\"忘记密码\")])],1)}\nvar staticRenderFns = []\nexport { render, staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0fbdf36a\",\"hasScoped\":true,\"optionsId\":\"0\",\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/login/LoginPwd.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}