{"version":3,"sources":["webpack:///src/components/message/MsgListItem.vue","webpack:///./src/components/message/MsgListItem.vue","webpack:///./src/components/message/MsgListItem.vue?1bb0","webpack:///src/pages/message/MineMsgList.vue","webpack:///./src/pages/message/MineMsgList.vue","webpack:///./src/pages/message/MineMsgList.vue?cd66"],"names":["MsgListItem","data","created","components","computed","props","msgItem","type","Object","isShowDate","Boolean","methods","goToMsgDetail","this","$router","push","path","query","__vue_styles__","context","__webpack_require__","message_MsgListItem","component_normalizer","_vm","_h","$createElement","_c","_self","staticClass","on","click","directives","name","rawName","value","expression","_v","_s","addtime","substring","image","attrs","src","style","margin-top","title","intro","staticStyle","font-size","color","vue_esm","use","vue_scroller_min_default","a","MineMsgList","titleName","msgType","page","hasNoData","msgList","$route","reback","refresh","done","getMsgList","infinite","isRefresh","_this","params","limit","$http","then","res","count","concat","list","length","catch","err","getLastDate","i","index","lastMsgItem","MineMsgList___vue_styles__","MineMsgList_Component","slot","icon","_e","on-refresh","on-infinite","_l","item","key","__webpack_exports__"],"mappings":"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","file":"static/js/13.a050a7a1c20c9d4cf9cd.js","sourcesContent":["<!--  -->\r\n<template>\r\n  <div class=\"msg-list-item-container\" v-on:click=\"goToMsgDetail\">\r\n    <div class=\"date-style\" v-show=\"!isShowDate\">{{msgItem.addtime.substring(0, 10)}}</div>\r\n\r\n    <div>\r\n      <div class=\"advert-container\" v-show=\"Boolean(msgItem.image)\">\r\n\r\n        <img class=\"advert-img\" :src=\"msgItem.image\" />\r\n\r\n      </div>\r\n\r\n      <div class=\"intro-container\" :style=\"{'margin-top':Boolean(msgItem.image)?'0px':'10px'}\">\r\n\r\n        <div class=\"title-class\">{{msgItem.title}}</div>\r\n        <div class=\"intro-class\">{{msgItem.intro}}</div>\r\n        <div class=\"cut-off-img\"></div>\r\n        <div style=\"font-size: 12px;color: #909090;margin-top:8px\">查看详情</div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {};\r\n  },\r\n  created() {},\r\n  components: {},\r\n\r\n  computed: {},\r\n\r\n  props: {\r\n    msgItem: {\r\n      type: Object\r\n    },\r\n    isShowDate: {\r\n      type: Boolean\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    goToMsgDetail() {\r\n      this.$router.push({\r\n        path: \"/msgDetail\",\r\n        query: { msgItem: this.msgItem }\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style lang='postcss' scoped>\r\n.msg-list-item-container {\r\n  background-color: #f6f7f8;\r\n  & .date-style {\r\n    width: 104px;\r\n    height: 24px;\r\n    line-height: 24px;\r\n    background: #d8d8d8;\r\n    color: #ffffff;\r\n    font-size: 12px;\r\n    text-align: center;\r\n    margin: 14px auto 5px;\r\n    border-radius: 12px;\r\n  }\r\n\r\n  & .advert-container {\r\n    position: relative;\r\n    margin-top: 10px;\r\n    & .advert-img {\r\n      width: 345px;\r\n      height: 86px;\r\n      margin-left: 15px;\r\n      vertical-align: bottom;\r\n      background: red;\r\n    }\r\n  }\r\n\r\n  & .intro-container {\r\n    padding-left: 14px;\r\n    padding-right: 14px;\r\n    padding-top: 10px;\r\n    padding-bottom: 8px;\r\n    background: white;\r\n    margin-left: 15px;\r\n    margin-right: 15px;\r\n    position: relative;\r\n    min-height: 40px;\r\n    & .title-class {\r\n      font-size: 14px;\r\n      color: #1c2042;\r\n      width: 100%;\r\n      word-wrap: break-word;\r\n    }\r\n\r\n    & .intro-class {\r\n      margin-top: 5px;\r\n      font-size: 12px;\r\n      color: #909090;\r\n    }\r\n\r\n    & .cut-off-img {\r\n      margin-top: 10px;\r\n      height: 1px;\r\n      background: #ececec;\r\n    }\r\n  }\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/message/MsgListItem.vue","function injectStyle (context) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"optionsId\\\":\\\"0\\\",\\\"vue\\\":true,\\\"id\\\":\\\"data-v-abd97280\\\",\\\"scoped\\\":true,\\\"sourceMap\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./MsgListItem.vue\")\n}\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./MsgListItem.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./MsgListItem.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-abd97280\\\",\\\"hasScoped\\\":true,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./MsgListItem.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-abd97280\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/message/MsgListItem.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"msg-list-item-container\",on:{\"click\":_vm.goToMsgDetail}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isShowDate),expression:\"!isShowDate\"}],staticClass:\"date-style\"},[_vm._v(_vm._s(_vm.msgItem.addtime.substring(0, 10)))]),_vm._v(\" \"),_c('div',[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(Boolean(_vm.msgItem.image)),expression:\"Boolean(msgItem.image)\"}],staticClass:\"advert-container\"},[_c('img',{staticClass:\"advert-img\",attrs:{\"src\":_vm.msgItem.image}})]),_vm._v(\" \"),_c('div',{staticClass:\"intro-container\",style:({'margin-top':Boolean(_vm.msgItem.image)?'0px':'10px'})},[_c('div',{staticClass:\"title-class\"},[_vm._v(_vm._s(_vm.msgItem.title))]),_vm._v(\" \"),_c('div',{staticClass:\"intro-class\"},[_vm._v(_vm._s(_vm.msgItem.intro))]),_vm._v(\" \"),_c('div',{staticClass:\"cut-off-img\"}),_vm._v(\" \"),_c('div',{staticStyle:{\"font-size\":\"12px\",\"color\":\"#909090\",\"margin-top\":\"8px\"}},[_vm._v(\"查看详情\")])])])])}\nvar staticRenderFns = []\nexport { render, staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-abd97280\",\"hasScoped\":true,\"optionsId\":\"0\",\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/message/MsgListItem.vue\n// module id = null\n// module chunks = ","<!--  -->\r\n<template>\r\n  <div class=\"mine-msg-container\">\r\n    <mt-header :title=\"titleName\" class=\"boder-header\">\r\n      <mt-button icon=\"back\" slot=\"left\" @click=\"reback\"></mt-button>\r\n    </mt-header>\r\n\r\n    <scroller class=\"scroller-class\" v-if=\"!hasNoData\" :on-refresh=\"refresh\" :on-infinite=\"infinite\">\r\n      <div class=\"all-msg-container\">\r\n        <div v-for=\"(item,index) in msgList\" :key=\"index\">\r\n          <msg-list-item :msgItem=\"item\" :isShowDate=\"getLastDate(index)\"></msg-list-item>\r\n        </div>\r\n      </div>\r\n    </scroller>\r\n    <empty class=\"empty\" v-if=\"hasNoData\"></empty>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Vue from \"vue\";\r\nimport VueScroller from \"vue-scroller\";\r\nimport Empty from \"@/components/Empty\";\r\nimport http from \"http\";\r\nVue.use(VueScroller);\r\nimport MsgListItem from \"@/components/message/MsgListItem\";\r\nexport default {\r\n  components: { MsgListItem },\r\n  data() {\r\n    return {\r\n      titleName: \"\",\r\n      msgType: 0,\r\n      page: 1,\r\n      hasNoData: false,\r\n      msgList: []\r\n    };\r\n  },\r\n\r\n  created() {\r\n    this.titleName = this.$route.query.titleName;\r\n    this.msgType = this.$route.query.msgType;\r\n  },\r\n\r\n  methods: {\r\n    reback() {\r\n      this.$router.push({ path: \"/mine/msgCenter\" });\r\n    },\r\n    refresh(done) {\r\n      this.getMsgList(true, done);\r\n    },\r\n    infinite(done) {\r\n      //done(true)的时候会停止加载更多\r\n      this.getMsgList(false, done);\r\n    },\r\n    getMsgList(isRefresh, done) {\r\n      let params = {\r\n        type: this.msgType,\r\n        limit: 30,\r\n        page: this.page\r\n      };\r\n      this.$http\r\n        .getMsgList(params)\r\n        .then(res => {\r\n          if (!isRefresh) {\r\n            this.page += 1;\r\n          } else {\r\n            done(false);\r\n          }\r\n          if (res) {\r\n            this.hasNoData = res.count == 0;\r\n            if (this.hasNoData) {\r\n              //没有数据的情况\r\n              done(true);\r\n              this.msgList = [];\r\n              return;\r\n            }\r\n            this.msgList = this.msgList.concat(res.list);\r\n\r\n            if (!isRefresh && this.msgList.length == res.count) {\r\n              done(true);\r\n            }\r\n          }\r\n        })\r\n        .catch(err => {\r\n          //do nothing\r\n        });\r\n    },\r\n\r\n    getLastDate(i) {\r\n      var index = i - 1;\r\n      if (index < 0) {\r\n        return false;\r\n      } else {\r\n        var lastMsgItem = this.msgList[index];\r\n        var msgItem = this.msgList[i];\r\n        return (\r\n          msgItem.addtime.substring(0, 10) ==\r\n          lastMsgItem.addtime.substring(0, 10)\r\n        );\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style lang='postcss' scoped>\r\n.mine-msg-container {\r\n  height: auto;\r\n\r\n  & .scroller-class {\r\n    position: absolute;\r\n    top: 44px;\r\n    background: #f6f7f8;\r\n\r\n    & .all-msg-container {\r\n      margin-top: 10px;\r\n    }\r\n  }\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/message/MineMsgList.vue","function injectStyle (context) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"optionsId\\\":\\\"0\\\",\\\"vue\\\":true,\\\"id\\\":\\\"data-v-52729095\\\",\\\"scoped\\\":true,\\\"sourceMap\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./MineMsgList.vue\")\n}\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./MineMsgList.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./MineMsgList.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-52729095\\\",\\\"hasScoped\\\":true,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./MineMsgList.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-52729095\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/message/MineMsgList.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"mine-msg-container\"},[_c('mt-header',{staticClass:\"boder-header\",attrs:{\"title\":_vm.titleName}},[_c('mt-button',{attrs:{\"slot\":\"left\",\"icon\":\"back\"},on:{\"click\":_vm.reback},slot:\"left\"})],1),_vm._v(\" \"),(!_vm.hasNoData)?_c('scroller',{staticClass:\"scroller-class\",attrs:{\"on-refresh\":_vm.refresh,\"on-infinite\":_vm.infinite}},[_c('div',{staticClass:\"all-msg-container\"},_vm._l((_vm.msgList),function(item,index){return _c('div',{key:index},[_c('msg-list-item',{attrs:{\"msgItem\":item,\"isShowDate\":_vm.getLastDate(index)}})],1)}))]):_vm._e(),_vm._v(\" \"),(_vm.hasNoData)?_c('empty',{staticClass:\"empty\"}):_vm._e()],1)}\nvar staticRenderFns = []\nexport { render, staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-52729095\",\"hasScoped\":true,\"optionsId\":\"0\",\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/message/MineMsgList.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}