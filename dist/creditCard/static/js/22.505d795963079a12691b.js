webpackJsonp([22],{"1QSO":function(t,a,n){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var e=n("Au9i"),o=n("7+uW"),i=n("M4fF"),c=n.n(i);o.default.component(e.Field.name,e.Field);var l={components:{},props:{},data:function(){return{name:"",id:"",card:"",bank:"",phone:"",bankInfo:{id:0,bankName:"",bankCode:"",bankIcon:"",pinYin:"",initials:""}}},watch:{card:c.a.throttle(function(){var t=this;if(this.card&&this.card.length>6){var a={cardNo:this.card};this.$http.queryBankName(a).then(function(a){a&&a.bankInfo&&(t.bankInfo=a.bankInfo,t.bankInfo.bankName&&(t.bank=t.bankInfo.bankName))}).catch(function(t){console.log(t)})}},2500)},computed:{},methods:{actionAdd:function(){var t=this;if(this.valideInput()){var a={userName:this.name,idNumber:this.id,account:this.card,bankName:this.bank,gateId:this.bankInfo.bankCode,phone:this.phone};this.$http.bindBankCard(a).then(function(a){a&&a.cardInfo&&(t.$toast("绑定成功"),t.$router.go(-1))}).catch(function(t){console.log(t)})}},valideInput:function(){return this.name?this.id?this.id.length<18?(this.$toast("请输入有效身份证"),!1):this.card?this.bank&&this.bankInfo.bankCode?!(!this.phone||this.length<11)||(this.$toast("请输入有效手机号码"),!1):(this.$toast("银行不能为空"),!1):(this.$toast("卡号不能为空"),!1):(this.$toast("身份证号不能为空"),!1):(this.$toast("姓名不能为空"),!1)},queryBank:function(){var t={cardNo:this.card};this.$http.queryBankName(t).then(function(t){t&&console.log(t)}).catch(function(t){console.log(t)})}},created:function(){},mounted:function(){}},s=n("XyMi");var r=function(t){n("BITm")},d=Object(s.a)(l,function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",{staticClass:"add-card-container"},[n("mt-header",{staticClass:"boder-header",attrs:{title:"添加银行卡"}},[n("router-link",{attrs:{slot:"left",to:"/mineSetting"},slot:"left"},[n("mt-button",{attrs:{icon:"back"}})],1)],1),t._v(" "),n("span",[t._v("财喵万卡提现金额将发放到绑定的银行卡内，请先绑定银行卡")]),t._v(" "),n("mt-field",{attrs:{label:"姓名",placeholder:"请输入姓名"},model:{value:t.name,callback:function(a){t.name=a},expression:"name"}}),t._v(" "),n("mt-field",{attrs:{label:"身份证号",placeholder:"请输入身份证号",attr:{maxlength:18}},model:{value:t.id,callback:function(a){t.id=a},expression:"id"}}),t._v(" "),n("mt-field",{attrs:{label:"银行卡号",placeholder:"请输入银行卡号",attr:{maxlength:19}},model:{value:t.card,callback:function(a){t.card=a},expression:"card"}}),t._v(" "),n("mt-field",{attrs:{label:"银行",placeholder:"根据卡号自动识别支持银行",readonly:!0},model:{value:t.bank,callback:function(a){t.bank=a},expression:"bank"}}),t._v(" "),n("mt-field",{attrs:{label:"预留手机号",placeholder:"请输入银行预留手机号",attr:{maxlength:11}},model:{value:t.phone,callback:function(a){t.phone=a},expression:"phone"}}),t._v(" "),n("div",{staticClass:"confirm-btn",on:{click:t.actionAdd}},[t._v("确定")])],1)},[],!1,r,"data-v-f0e07252",null);a.default=d.exports},BITm:function(t,a){}});
//# sourceMappingURL=22.505d795963079a12691b.js.map