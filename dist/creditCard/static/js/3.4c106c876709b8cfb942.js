webpackJsonp([3,32],{"32yY":function(t,e){},"70vr":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a("Dd8w"),i=a.n(o),s=a("NYxO"),n=a("L6bb"),c=a.n(n),r=a("7pK0"),l={name:"login",data:function(){return{title:"密码登录",passform:{username:localStorage.getItem("caiPhone"),password:""}}},computed:{btnDisabled:{get:function(){return!this.passform.username}}},methods:i()({},Object(s.b)(["getUserInfo"]),Object(s.c)(["SETLOGINSTATE"]),{toLogin:function(t){var e=this;this.$http.toLogin(t).then(function(t){if(!1!==t){localStorage.setItem("token",t.token),e.SETLOGINSTATE({loginState:!0}),e.getUserInfo();var a=e.$route.query.redirected;a?e.$router.push({path:a}):e.$router.go(-1)}})},checkForm:function(t){localStorage.setItem("caiPhone",this.passform.username||"");var e=r.a.validatePhoneNumber(this.passform.username);if(""===e)if(this.passform.password){var a={phone:this.passform.username,password:c()(this.passform.password),type:0,channel:"wapzc"};this.toLogin(a)}else this.$toast("密码不能为空");else this.$toast(e);t.preventDefault()}})},h=a("XyMi");var u=function(t){a("lKC7")},m=Object(h.a)(l,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"login"},[a("form",{staticClass:"login-form",attrs:{action:""},on:{submit:t.checkForm},model:{value:t.passform,callback:function(e){t.passform=e},expression:"passform"}},[a("mt-field",{staticClass:"phone",attrs:{placeholder:"请输入手机号码",type:"tel"},model:{value:t.passform.username,callback:function(e){t.$set(t.passform,"username",e)},expression:"passform.username"}}),t._v(" "),a("mt-field",{staticClass:"password",attrs:{placeholder:"请输入登录密码",type:"password"},model:{value:t.passform.password,callback:function(e){t.$set(t.passform,"password",e)},expression:"passform.password"}}),t._v(" "),a("div",{staticClass:"btn-module"},[a("div",{staticClass:"btn-margin"},[a("mt-button",{staticClass:"common-btn",attrs:{disabled:t.btnDisabled}},[t._v("登录")])],1)])],1),t._v(" "),a("router-link",{staticClass:"forget",attrs:{to:"/user/forgetPassword"}},[t._v("忘记密码")])],1)},[],!1,u,"data-v-0c330ae4",null);e.default=m.exports},G8ye:function(t,e){},KtMa:function(t,e,a){"use strict";var o=a("Dd8w"),i=a.n(o),s=a("NYxO"),n=a("7pK0"),c={name:"HomeNav",data:function(){return{codeLabel:"获取短信验证码",count:"",verificationVal:""}},props:{phoneNumber:{type:String},captcha:{type:String},verification:{type:String}},computed:i()({},Object(s.d)({sendShow:function(t){return t.loginInfo.sendShow},btnDisable:function(t){return t.loginInfo.btnDisable}})),mounted:function(){var t=this;setTimeout(function(){t.verificationVal=""},200)},watch:{verificationVal:function(t,e){this.$emit("update:verification",t)}},methods:i()({},Object(s.c)(["SETSENDSHOW","SETBTNDISABLE"]),{getMsgCode:function(t,e){var a=this;this.$http.getMsgCode(t,e).then(function(t){if(console.log(t),"ok"===t.code){a.SETBTNDISABLE({btnDisable:!0}),a.timer||(a.count=60,a.SETSENDSHOW({sendShow:!1}),a.timer=setInterval(function(){a.count>0&&a.count<=60?a.count--:(a.SETSENDSHOW({sendShow:!0}),clearInterval(a.timer),a.codeLabel="重新发送",a.SETBTNDISABLE({btnDisable:!1}),a.timer=null)},1e3))}else a.$toast(t.msg)})},getCode:function(){var t=n.a.validatePhoneNumber(this.phoneNumber);""===t?""===this.captcha?this.$toast("请输入图片验证码"):this.getMsgCode(this.phoneNumber,this.captcha):this.$toast(t)}})},r=a("XyMi");var l=function(t){a("G8ye")},h=Object(r.a)(c,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("mt-field",{staticClass:"msgCaptcha",attrs:{placeholder:"请输入短信验证码",type:"number"},model:{value:t.verificationVal,callback:function(e){t.verificationVal=e},expression:"verificationVal"}},[a("div",{staticClass:"get-captcha",attrs:{disabled:t.btnDisable},on:{click:t.getCode}},[a("span",{directives:[{name:"show",rawName:"v-show",value:t.sendShow,expression:"sendShow"}]},[t._v(t._s(t.codeLabel))]),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:!t.sendShow,expression:"!sendShow"}]},[t._v(t._s(t.count)+"s")])])])},[],!1,l,"data-v-1f6d4041",null);e.a=h.exports},T4Ww:function(t,e){},idbw:function(t,e,a){"use strict";var o=a("Dd8w"),i=a.n(o),s=a("NYxO"),n=a("7pK0"),c={name:"HomeNav",data:function(){return{codeImgSrc:"",captchaVal:""}},props:{phoneNumber:{type:String},captcha:{type:String}},computed:i()({},Object(s.d)({captchaShow:function(t){return t.loginInfo.captchaShow}})),watch:{captchaVal:function(t,e){this.$emit("update:captcha",t)}},methods:i()({},Object(s.c)(["SETCAPTCHASHOW"]),{getImgCode:function(t){var e=this;this.$http.getImageCode(t).then(function(t){e.codeImgSrc=t})},refreshCode:function(){this.getImgCode(this.phoneNumber)},getCaptcha:function(){var t=n.a.validatePhoneNumber(this.phoneNumber);""===t?(this.getImgCode(this.phoneNumber),this.SETCAPTCHASHOW({captchaShow:!0})):this.$toast(t)}})},r=a("XyMi");var l=function(t){a("T4Ww")},h=Object(r.a)(c,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("mt-field",{staticClass:"imgCaptcha",attrs:{placeholder:"请输入图形验证码",type:"number"},model:{value:t.captchaVal,callback:function(e){t.captchaVal=e},expression:"captchaVal"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:!t.captchaShow,expression:"!captchaShow"}],staticClass:"get-captcha",on:{click:t.getCaptcha}},[a("span",[t._v("获取图形验证码")])]),t._v(" "),a("img",{directives:[{name:"show",rawName:"v-show",value:t.captchaShow,expression:"captchaShow"}],staticClass:"captcha-img",attrs:{alt:"单击图片刷新",src:t.codeImgSrc},on:{click:t.refreshCode}})])},[],!1,l,"data-v-35f4cb00",null);e.a=h.exports},lKC7:function(t,e){},vdVF:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a("Dd8w"),i=a.n(o),s=a("NYxO"),n=a("idbw"),c=a("KtMa"),r=a("70vr"),l=a("7pK0"),h={name:"login",components:{FormCaptcha:n.a,FormVerification:c.a,LoginPwd:r.default},data:function(){return{title:"手机号快捷登录",rightTitle:"密码登录",quickVisable:!0,options:[{label:" ",value:!0}],code:"",form:{phoneNumber:localStorage.getItem("caiPhone"),captcha:"",verification:"",agreeValue:[!0]}}},computed:i()({},Object(s.d)({loginThirdType:function(t){return t.accountInfo.loginThirdType},thirdType:function(t){return t.accountInfo.thirdType},tempToken:function(t){return t.accountInfo.tempToken}})),created:function(){this.$route.query.code&&(this.code=this.$route.query.code),this.SETLOGINVALUE({captchaShow:!1,sendShow:!0,btnDisable:!1})},mounted:function(){},methods:i()({},Object(s.b)(["getUserInfo"]),Object(s.c)(["SETLOGINVALUE","SETLOGINSTATE"]),{changePanel:function(){this.quickVisable=!this.quickVisable,this.quickVisable?(this.title="手机号快捷登录",this.rightTitle="密码登录"):(this.title="密码登录",this.rightTitle="快捷登录")},toLogin:function(t){var e=this;this.$http.toLogin(t).then(function(t){if(t){e.SETLOGINSTATE({loginState:!0}),e.getUserInfo();var a=e.$route.query.redirected;a?e.$router.push({path:a}):e.$router.go(-1)}}).catch(function(t){console.log(t)})},checkForm:function(t){localStorage.setItem("caiPhone",this.form.phoneNumber||"");var e=l.a.validatePhoneNumber(this.form.phoneNumber);if(""===e)if(this.form.captcha)if(this.form.verification)if(0===this.form.agreeValue.length)this.$toast("请同意财喵星球注册服务协议");else{var a={phone:this.form.phoneNumber,msgCode:this.form.verification,type:4,channel:"wapzc",thirdType:this.thirdType,tempToken:this.tempToken};this.toLogin(a),console.log(a)}else this.$toast("短信验证码不能为空");else this.$toast("图形验证码不能为空");else this.$toast(e);t.preventDefault()},showAgreement:function(){this.$router.push("/user/agreement")}})},u=a("XyMi");var m=function(t){a("32yY")},p=Object(u.a)(h,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"login"},[t._v("\n  "+t._s(t.code)+"\n  "),a("mt-header",{staticClass:"boder-header",attrs:{title:t.title}},[a("mt-button",{attrs:{slot:"left",icon:"back"},on:{click:function(e){t.$router.go(-1)}},slot:"left"}),t._v(" "),a("mt-button",{attrs:{slot:"right"},on:{click:t.changePanel},slot:"right"},[t._v(t._s(t.rightTitle))])],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.quickVisable,expression:"quickVisable"}],staticClass:"login-quick"},[a("form",{staticClass:"login-form",attrs:{action:""},on:{submit:t.checkForm},model:{value:t.form,callback:function(e){t.form=e},expression:"form"}},[a("mt-field",{staticClass:"phone",attrs:{placeholder:"请输入手机号码",type:"tel"},model:{value:t.form.phoneNumber,callback:function(e){t.$set(t.form,"phoneNumber",e)},expression:"form.phoneNumber"}}),t._v(" "),a("form-captcha",{attrs:{phoneNumber:t.form.phoneNumber,captcha:t.form.captcha},on:{"update:captcha":function(e){t.$set(t.form,"captcha",e)}}}),t._v(" "),a("form-verification",{attrs:{phoneNumber:t.form.phoneNumber,captcha:t.form.captcha,verification:t.form.verification},on:{"update:verification":function(e){t.$set(t.form,"verification",e)}}}),t._v(" "),a("div",{staticClass:"mint-cell-wrapper btn-module"},[a("div",{staticClass:"btn-margin"},[a("mt-button",{staticClass:"common-btn"},[t._v("登录")])],1),t._v(" "),a("div",{staticClass:"login-checkbox"},[a("mt-checklist",{attrs:{options:t.options},model:{value:t.form.agreeValue,callback:function(e){t.$set(t.form,"agreeValue",e)},expression:"form.agreeValue"}}),t._v(" "),a("span",[t._v("若您输入的手机号未注册，将会进入注册流程。注册即视为同意《"),a("a",{on:{click:t.showAgreement}},[t._v(" 财喵星球注册服务协议")]),t._v("》")])],1)])],1)]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.quickVisable,expression:"!quickVisable"}],staticClass:"login-pwd"},[a("login-pwd")],1)],1)},[],!1,m,"data-v-6bd1b786",null);e.default=p.exports}});
//# sourceMappingURL=3.4c106c876709b8cfb942.js.map