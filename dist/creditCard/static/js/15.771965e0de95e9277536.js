webpackJsonp([15],{"KDf+":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s={data:function(){return{}},created:function(){},components:{},computed:{},methods:{isOver:function(){var t=this.myLoanRebateItem.status;return 0==t?"贷款平台审核不通过":1==t?"通过":void 0},getLoanExplain:function(){var t="",e=this.myLoanRebateItem.type;return 0==e?t="首贷":1==e&&(t="复贷"),this.formatDate(this.myLoanRebateItem.loanDate,"yyyy-MM-dd")+t+this.moneyFormal(this.myLoanRebateItem.loan)+"元"},formatDate:function(t,e){t=new Date(t);/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length)));var a={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds()};for(var s in a)if(new RegExp("("+s+")").test(e)){var i=a[s]+"";e=e.replace(RegExp.$1,1===RegExp.$1.length?i:this.padLeftZero(i))}return e},padLeftZero:function(t){return("00"+t).substr(t.length)}},props:{myLoanRebateItem:{type:Object}}},i=a("XyMi");var n=function(t){a("P0qc")},o=Object(i.a)(s,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"my-loan-rebate-container"},[a("div",{staticClass:"my-loan-rebate-content"},[a("span",{staticClass:"plat-name-style"},[t._v(t._s(t.myLoanRebateItem.platName))]),t._v(" "),a("div",{staticClass:"money-txt-container"},[a("span",{staticClass:"money-txt-style"},[t._v(t._s(t._f("moneyFormal2")(t.myLoanRebateItem.rebateMoney)))]),t._v(" "),a("span",{staticClass:"unit-style"},[t._v("元")])]),t._v(" "),a("span",{staticClass:"detail-style"},[t._v(t._s(t.getLoanExplain()))])]),t._v(" "),a("span",{staticClass:"result-tip"},[t._v(t._s(t.isOver()))])])},[],!1,n,"data-v-3a998a2e",null).exports,r=a("REo8"),l=a("N+NQ"),c={data:function(){return{totalRebateMoney:"--/--",dueDate:"--/--",myLoanrebateLit:[],busy:!1,page:0,isLoadMore:!1,afterLoad:!1,toastShow:!1,toastContent:"",isRefresh:!1}},created:function(){window.loadDataCallBack=this.loadDataCallBack},components:{MyLoanRebateListItem:o,NoneView:r.a,Toast:l.a},computed:{},methods:{dismiss:function(){this.toastShow=!1},showToast:function(t){this.toastContent=t,this.toastShow=!0},apply:function(){(this.isiOS()||this.isAndroid())&&this.ToAppPage("/loanIndex","",!0)},loadMore:function(){this.page++,this.busy=!0,this.isLoadMore=!0,this.GeneralGetData({url:"/app/loan/rebate/record/user",reqData:{page:this.page,limit:10,tag:"myloan"},callback:"loadDataCallBack"})},loadDataCallBack:function(t){if(this.afterLoad=!0,0==t.isSuccess){if(this.isRefresh&&(this.myLoanrebateLit=[],this.isRefresh=!this.isRefresh),0==t.responseData.page.totalNum)return this.busy=!0,void(this.isLoadMore=!1);this.totalRebateMoney=t.responseData.sumRebate,this.dueDate=t.responseData.system_time.substring(0,10),this.myLoanrebateLit=this.myLoanrebateLit.concat(t.responseData.page.list),this.myLoanrebateLit.length<t.responseData.page.totalNum&&(this.busy=!1),this.isLoadMore=!1}else this.busy=!0,this.isLoadMore=!1,this.showToast(t.responseData)},refresh:function(){this.page=0,this.afterLoad=!1,this.isRefresh=!this.isRefresh,this.loadMore()}}};var h=function(t){a("dbGT")},d=Object(i.a)(c,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"my-loan-rebate-container"},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.myLoanrebateLit.length>0,expression:"myLoanrebateLit.length>0"}]},[a("div",{staticClass:"my-loan-rebate-title"},[a("span",{staticClass:"date-tip"},[t._v("截止"+t._s(t.dueDate))]),t._v(" "),a("span",{staticClass:"reward-tip-up"},[t._v(t._s(t._f("moneyFormal2")(t.totalRebateMoney)))]),t._v(" "),a("span",{staticClass:"reward-tip-dowm"},[t._v("总奖励(元)")])]),t._v(" "),t._m(0),t._v(" "),t._m(1),t._v(" "),a("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadMore,expression:"loadMore"}],staticClass:"loan-rebate-rebate-list",attrs:{"infinite-scroll-disabled":"busy","infinite-scroll-distance":"10"}},t._l(t.myLoanrebateLit,function(t,e){return a("my-loan-rebate-list-item",{key:e,attrs:{myLoanRebateItem:t}})})),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.isLoadMore,expression:"isLoadMore"}],staticClass:"weui-loadmore"},[a("i",{staticClass:"weui-loading"}),t._v(" "),a("span",{staticClass:"weui-loadmore__tips"},[t._v("正在加载")])])]),t._v(" "),a("none-view",{directives:[{name:"show",rawName:"v-show",value:t.afterLoad&&t.myLoanrebateLit.length<=0,expression:"afterLoad && myLoanrebateLit.length<=0"}],on:{apply:t.apply}}),t._v(" "),a("toast",{attrs:{showToast:t.toastShow,toastContent:t.toastContent},on:{"update:showToast":function(e){t.toastShow=e},dismiss:t.dismiss}})],1)},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"loan-rebate-tip"},[e("img",{attrs:{src:"/static/images/point_out.png"}}),this._v(" "),e("span",[this._v("\n        返利记录将在每周到账后更新数据"),e("br"),this._v("返利金额发放至您的钱包余额，请在钱包余额里面申请提现\n      ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"loan-rebate-title"},[e("span",[this._v("\n        贷款返利\n      ")]),this._v(" "),e("img",{attrs:{src:"/static/images/group.png"}})])}],!1,h,"data-v-d76dd0b4",null);e.default=d.exports},P0qc:function(t,e){},dbGT:function(t,e){}});
//# sourceMappingURL=15.771965e0de95e9277536.js.map